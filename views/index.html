<!DOCTYPE html>

<html>

   <head>
      <title>Request Header Parser</title>
      <link rel="shortcut icon" href="https://cdn.hyperdev.com/us-east-1%3A52a203ff-088b-420f-81be-45bf559d01b1%2Ffavicon.ico" type="image/x-icon"/>
      <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet" type="text/css">
      <link href="style.css" rel="stylesheet" type="text/css">
   </head>

   <body>
      <div class="container">
        <h1>Request Header Parser Microservice</h1>

        <h2>Example Usage:</h2>
        <p>
          <a href="api/whoami">[base url]/api/whoami</a>
        </p>

        <h2>Example Output:</h2>
        <p>
          <code>{"ipaddress":"::1","language":"es-ES,es;q=0.9","software":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"}</code>
        </p>
      </div>
      <h2>Output:</h2>
        <p>
          <code id="apiOutput">Cargando...</code>
        </p>
      </div>
      <div class="footer">
        <p>
          by <a href="https://www.freecodecamp.org">Ian Vila</a>
        </p>
      </div>

      <script>
        // Función para obtener y mostrar los datos de la API
        async function getWhoamiData() {
          try {
            const response = await fetch('/api/whoami');
            const data = await response.json();
            document.getElementById('apiOutput').textContent = JSON.stringify(data, null, 2);
          } catch (error) {
            document.getElementById('apiOutput').textContent = 'Error al cargar los datos';
          }
        }

        // Cargar los datos cuando la página se inicie
        getWhoamiData();
      </script>
   </body>


</html>
